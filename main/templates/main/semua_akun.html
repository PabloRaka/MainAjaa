{% extends "main/base.html" %}

{% block title %}Semua Akun Dijual{% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-12">
    <div class="flex flex-col md:flex-row justify-between items-center mb-8">
        <h1 class="text-4xl font-bold text-white">Semua Akun</h1>
        
        <form method="get" class="mt-4 md:mt-0">
            <div class="flex items-center space-x-4">
                <select name="game" onchange="this.form.submit()" class="bg-gray-800 border border-gray-700 rounded-md py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="">Semua Game</option>
                    {% for game in daftar_game %}
                        <option value="{{ game }}" {% if game == game_filter_aktif %}selected{% endif %}>{{ game }}</option>
                    {% endfor %}
                </select>
                
                <select name="sort" onchange="this.form.submit()" class="bg-gray-800 border border-gray-700 rounded-md py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="terbaru" {% if sort_by_aktif == 'terbaru' %}selected{% endif %}>Urutkan: Terbaru</option>
                    <option value="termurah" {% if sort_by_aktif == 'termurah' %}selected{% endif %}>Urutkan: Termurah</option>
                    <option value="termahal" {% if sort_by_aktif == 'termahal' %}selected{% endif %}>Urutkan: Termahal</option>
                </select>
            </div>
        </form>
        </div>

    {% if semua_akun %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for akun in semua_akun %}
        <div class="bg-gray-900/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 shadow-lg transition-all duration-300 ease-in-out hover:shadow-xl hover:shadow-purple-500/20 hover:-translate-y-2">
            {% if akun.gambar %}
                <img src="{{ akun.gambar.url }}" class="w-full h-40 object-cover rounded-md mb-4" alt="{{ akun.nama_akun }}">
            {% endif %}
            
            <div class="flex justify-between items-start">
                <div>
                    <span class="bg-gray-800 text-gray-300 text-xs font-semibold px-2 py-0.5 rounded">{{ akun.game }}</span>
                    <h5 class="text-md font-semibold text-white truncate mt-2">{{ akun.nama_akun }}</h5>
                    <p class="text-lg text-purple-400 font-bold">Rp {{ akun.harga|floatformat:0 }}</p>
                </div>
                <div class="text-right">
                     <span class="text-gray-400 text-xs">Level {{ akun.level }}</span>
                </div>
            </div>

            <a href="{% url 'akun_detail' akun.pk %}" class="block w-full text-center mt-4 bg-gray-800 hover:bg-purple-600 text-white text-sm font-bold py-2 px-4 rounded-md transition-colors">
                Lihat Detail
            </a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center p-16 bg-gray-900/50 rounded-lg">
        <h2 class="text-2xl font-semibold text-white">Tidak Ada Hasil</h2>
        <p class="text-gray-500 mt-2">Tidak ada akun yang cocok dengan filter Anda.</p>
    </div>
    {% endif %}
</div>
{% endblock %}